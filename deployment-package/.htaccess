
<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Handle requests for static files
    RewriteCond %{REQUEST_URI} !^/uploads/
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    
    # Proxy all other requests to Node.js
    RewriteRule ^(.*)$ http://127.0.0.1:3000/$1 [P,L]
</IfModule>

# Set CORS headers
Header set Access-Control-Allow-Origin "*"
